!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.default=class{constructor(){this.linkMap=new Map,this.headEle=document.querySelector("head")}get links(){return this.linkMap}use(e){if(!e)return[];var t=e instanceof Array?e:[e];const n=document.createDocumentFragment(),r=[];for(let e=0;e<t.length;e++){var{src:i,alternative:s}=t[e],i=this.createLink(i,s),s=this.createSymbol();i&&this.headEle&&(this.linkMap.set(s,i),n.appendChild(i),r.push(s))}return null!==(e=this.headEle)&&void 0!==e&&e.appendChild(n),r}show(e){return this.changeAlternate(e,!1)}hide(e){return this.changeAlternate(e,!0)}teardown(e){var t=this.linkMap.get(e);return t&&this.headEle&&this.headEle.removeChild(t),this.linkMap.delete(e),this}destory(){return this.linkMap.forEach((e,t)=>this.teardown(t)),this}createLink(e,t=!1){if(e){const n=document.createElement("link");return n.setAttribute("rel",t?"alternate stylesheet":"stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",e),n}}createSymbol(){var e=(new Date).getTime();return"function"==typeof Symbol?Symbol(e):e}changeAlternate(e,t){const n=this.linkMap.get(e);return n&&n.setAttribute("rel",t?"alternate stylesheet":"stylesheet"),this}}});
